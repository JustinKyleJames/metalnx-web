<!-- Copyright (c) 2018, University of North Carolina at Chapel Hill -->
<!-- Copyright (c) 2015-2017, Dell EMC -->


<div class="breadcrumb-wrapper">

	<ol id="navigationBreadcrumbBar" class="breadcrumb">

		<!--  <li><a th:href="@{${urlMap.URL_HOME_COLLECTION_USER}}"><i
				class="fa fa-home"></i></a></li>-->
		<li><button id="historyBtn" onclick="navToggle();"
				th:title="#{collections.history.button.tooltip}" type="button"
				class="btn btn-link dropdown-toggle" data-toggle="navigationBar"
				aria-haspopup="true" aria-expanded="false">
				<span class="caret"></span> <span class="sr-only">Toggle
					Dropdown</span>
			</button></li>
		<th:block th:each="breadcrumbItem, iterStat: ${breadcrumb.items}">

			<th:block th:if="${iterStat.index lt (breadcrumb.items.size()-1)}">
				<li><a href="#" aria-label="'path breadcrumb for:"
					th:text="${breadcrumbItem.name}" th:title="${breadcrumbItem.path}"
					th:onclick="|positionBrowserToPath('${ breadcrumbItem.encPath }')|">
				</a></li>
			</th:block>
			<th:block th:if="${iterStat.index eq (breadcrumb.items.size()-1)}">
				<li class="collections-view"><span
					th:if="${collectionAndDataObject.path != '/'}"
					th:text="${ collectionAndDataObject.name }"
					th:title="${ collectionAndDataObject.path }"> </span></li>
			</th:block>

		</th:block>
	</ol>

	<nav id="navigationBar" class="hidden navbar navbar-expand-lg navbar navbar-dark bg-dark">	
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<input type="text" id="navigationInput"
						th:value="${collectionAndDataObject.path}"
						placeholder="Enter a non-empty valid path" />
			<div class="btn-group" role="group" aria-label="navigation buttons">
				<button class="btn btn-default" onclick="navGo();">Go</button>
				<button class="btn btn-default" onclick="navGoHome();">Go Home</button>
				<button class="btn btn-default" onclick="navGoRoot();">Go /</button>
				<button class="btn btn-default" onclick="closeNav();">Cancel</button>
			</div>	
		</div>
	</nav>

	<!--
	

         <ol class="breadcrumb">
         		<li>
         			<a th:href="@{${urlMap.URL_HOME_COLLECTION_USER}}"><i class="fa fa-home"></i></a>
         		</li>
                <th:block th:if="${breadcrumb.items.size()} le 3" th:each="breadcrumbItem, iterStat: ${breadcrumb.items}">
                    <th:block th:if="${iterStat.index lt (breadcrumb.items.size()-1)}">

                        <li>
                            <a  href="#" aria-label="'path breadcrumb for:"
                                th:text="${breadcrumbItem.name}"
                                th:title="${breadcrumbItem.path}"
                                th:onclick="|positionBrowserToPath('${ breadcrumbItem.encPath }')|">
                            </a>
                        </li>
                    </th:block>
                    <th:block th:if="${iterStat.index eq (breadcrumb.items.size()-1)}">
                        <li class="collections-view">
                        <span th:if="${collectionAndDataObject.path != '/'}"
                              th:text="${ collectionAndDataObject.name }"
                              th:title="${ collectionAndDataObject.path }">
                        </span>
                        </li>
                    </th:block>
                </th:block>
                <th:block th:if="${breadcrumb.items.size()} gt 3">
                    <li>...</li>
                    <li>
                        <a  aria-label="path breadcrumb for: /*[[${breadcrumb.items[breadcrumb.items.size()-3].name} ]]*/"
                            th:text="${breadcrumb.items[breadcrumb.items.size()-3].name}"
                            th:title="${breadcrumb.items[breadcrumb.items.size()-3].path}"
                            th:onclick="|positionBrowserToPath('${ breadcrumb.items[breadcrumb.items.size()-3].encPath}')|">
                        </a>
                    </li>
                    <li >
                        <a
                            th:text="${breadcrumb.items[breadcrumb.items.size()-2].name}"
                            th:title="${breadcrumb.items[breadcrumb.items.size()-2].path}"
                            th:onclick="|positionBrowserToPath('${ breadcrumb.items[breadcrumb.items.size()-2].encPath}')|">
                        </a>
                    </li>
                    <li class="collections-view">
                    <span th:if="${collectionAndDataObject.path != '/'}"
                          th:text="${ collectionAndDataObject.name }"
                          th:title="${ collectionAndDataObject.path }">
                    </span>
                    </li>
                </th:block>
            </ol>
 -->
	<div id="current-path-property" class="hidden">
		<ol class="breadcrumb info">
			<th:block th:if="${collectionAndDataObject.isCollection()}">
				<li><a class="collection" href="#"
					aria-label="'info for:' + ${ collectionAndDataObject.name }"> <span
						th:if="${collectionAndDataObject.path != '/'}"
						th:text="${ collectionAndDataObject.name }"
						th:title="${ collectionAndDataObject.path }"> </span>
				</a></li>
			</th:block>
		</ol>
	</div>

</div>
<script th:inline="javascript">
	var navOpen = false;
	
	function navToggle() {
		if (!navOpen) {
			$('#navigationBar').removeClass("hidden");
			$('#navigationInput').focus().select();
			navOpen = true;
		} else {
			closeNav();
		}
	}
	
	function closeNav() {
		$('#navigationBar').addClass("hidden");
		navOpen = false;
	}
	
	function navGoRoot() {
		positionBrowserToPath('/');
		closeNav();
	}
	
	function navGo() {
		var path=$('#navigationInput').val();
		positionBrowserToPath(path);
		closeNav();
	}
	
	function navGoHome() {
		window.location.href = '/metalnx/browse/home';
		closeNav();
	}
	
	
/*<![CDATA[*/
    $(document).ready(function(){
    	// Add tooltip on Favorite button
       /*  $('#breadcrumbStar').tooltip({
   			trigger: 'hover',
       		placement:'top',
   		}); */
        $('#breadcrumbHome').tooltip();
     	// Add tooltip on Options menu
        $('#breadcrumbOptionsMenu').tooltip({
    		content:[[#{collections.menu.options.tooltip}]],
   			trigger: 'hover',
       		placement: 'top',
   		});       
    });

/*]]>*/
</script>
